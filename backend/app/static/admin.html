<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Paneli â€“ Ã–ÄŸrenci Destek</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <!-- GiriÅŸ Formu -->
    <div class="admin-container" id="loginScreen" style="display:flex; align-items:center; justify-content:center; min-height:100vh;">
        <div class="modal" style="width:360px;">
            <h2 style="text-align:center;">ğŸ” Admin GiriÅŸi</h2>
            <label for="loginPassword">Åifre</label>
            <input type="password" id="loginPassword" placeholder="Admin ÅŸifresini girin..." style="width:100%; padding:10px 12px; border:1px solid var(--gray-300); border-radius:8px; font-size:14px; font-family:inherit;">
            <div id="loginError" style="color:#dc2626; font-size:13px; margin-top:8px; display:none;">GeÃ§ersiz ÅŸifre. Tekrar deneyin.</div>
            <div class="modal-actions" style="margin-top:16px;">
                <a href="/" class="btn-cancel" style="text-decoration:none; text-align:center;">Ä°ptal</a>
                <button class="btn-save" onclick="handleLogin()">GiriÅŸ Yap</button>
            </div>
        </div>
    </div>

    <!-- Admin Panel Ä°Ã§eriÄŸi -->
    <div class="admin-container" id="adminPanel" style="display:none;">
        <!-- BaÅŸlÄ±k -->
        <header class="admin-header">
            <h1>ğŸ“ Ã–ÄŸrenci Destek â€“ Admin Paneli</h1>
            <a href="/">â† Sohbete DÃ¶n</a>
        </header>

        <!-- Ä°statistikler -->
        <div class="stats-grid" id="statsGrid">
            <div class="stat-card">
                <div class="stat-value" id="statTotal">-</div>
                <div class="stat-label">Toplam Talep</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="statOpen">-</div>
                <div class="stat-label">AÃ§Ä±k</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="statProgress">-</div>
                <div class="stat-label">Ä°ÅŸlemde</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="statResolved">-</div>
                <div class="stat-label">Ã‡Ã¶zÃ¼ldÃ¼</div>
            </div>
        </div>

        <!-- Filtreler -->
        <div class="filter-bar">
            <button class="filter-btn active" onclick="filterTickets(null, this)">TÃ¼mÃ¼</button>
            <button class="filter-btn" onclick="filterTickets('AÃ§Ä±k', this)">AÃ§Ä±k</button>
            <button class="filter-btn" onclick="filterTickets('Ä°ÅŸlemde', this)">Ä°ÅŸlemde</button>
            <button class="filter-btn" onclick="filterTickets('Ã‡Ã¶zÃ¼ldÃ¼', this)">Ã‡Ã¶zÃ¼ldÃ¼</button>
        </div>

        <!-- Tablo -->
        <div style="overflow-x: auto;">
            <table class="tickets-table">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Tarih</th>
                        <th>Soru</th>
                        <th>Kategori</th>
                        <th>GÃ¼ven</th>
                        <th>Durum</th>
                        <th>Ä°ÅŸlem</th>
                    </tr>
                </thead>
                <tbody id="ticketsBody">
                    <tr>
                        <td colspan="7" class="empty-state">
                            <div class="icon">ğŸ“‹</div>
                            <p>YÃ¼kleniyor...</p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    </div>

    <!-- DÃ¼zenleme ModalÄ± -->
    <div class="modal-overlay" id="editModal">
        <div class="modal">
            <h2>Talebi DÃ¼zenle â€“ <span id="modalTicketId"></span></h2>

            <label for="modalStatus">Durum</label>
            <select id="modalStatus">
                <option value="AÃ§Ä±k">AÃ§Ä±k</option>
                <option value="Ä°ÅŸlemde">Ä°ÅŸlemde</option>
                <option value="Ã‡Ã¶zÃ¼ldÃ¼">Ã‡Ã¶zÃ¼ldÃ¼</option>
            </select>

            <label for="modalNote">Admin Notu</label>
            <textarea id="modalNote" placeholder="Not ekleyin..."></textarea>

            <div class="modal-actions">
                <button class="btn-cancel" onclick="closeModal()">Ä°ptal</button>
                <button class="btn-save" onclick="saveTicket()">Kaydet</button>
            </div>
        </div>
    </div>

    <script src="/static/admin.js"></script>
</body>
</html>
